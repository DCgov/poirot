import sys
from poirot.poirot import Poirot, Case
from poirot.clients.console_thin import ConsoleThinClient

if __name__ == '__main__':
    sys.argv.pop(0)
    client = ConsoleThinClient()
    case = Case(sys.argv)
    poirot = Poirot(client, case)
    poirot.prepare()
    poirot.investigate()
    poirot.report()